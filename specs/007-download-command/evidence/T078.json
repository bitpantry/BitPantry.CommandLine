{
  "taskId": "T078",
  "testCase": "",
  "green": {
    "timestamp": "2026-01-13T13:44:41.3452738-06:00",
    "testCommand": "",
    "exitCode": 0,
    "output": ""
  },
  "diff": {
    "timestamp": "2026-01-13T13:44:41.3452738-06:00",
    "files": [
      "BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs"
    ],
    "patch": "diff --git a/BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs b/BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs\nindex 2799ebc..5be0584 100644\n--- a/BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs\n+++ b/BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs\n@@ -788,6 +788,93 @@ namespace BitPantry.CommandLine.Tests.Remote.SignalR.ClientTests\n                 \"Aggregate size of 30MB should be above the 25MB threshold\");\n         }\n \n+        /// <summary>\n+        /// Implements: UX-014, T078\n+        /// When: User downloads multiple files with aggregate size >= DownloadConstants.ProgressDisplayThreshold\n+        /// Then: Aggregate progress bar should be shown (showProgress flag = true).\n+        /// This test verifies the threshold calculation logic for multiple files.\n+        /// </summary>\n+        [TestMethod]\n+        public void Download_MultipleFilesAggregateSize_AtOrAboveThreshold_ShowsAggregateProgress()\n+        {\n+            // Arrange - Multiple smaller files that individually are below threshold,\n+            // but together exceed it\n+            var files = new[]\n+            {\n+                new FileInfoEntry(\"file1.txt\", 10L * 1024 * 1024, DateTime.Now), // 10 MB\n+                new FileInfoEntry(\"file2.txt\", 10L * 1024 * 1024, DateTime.Now), // 10 MB\n+                new FileInfoEntry(\"file3.txt\", 10L * 1024 * 1024, DateTime.Now), // 10 MB\n+            };\n+\n+            // Each individual file is below threshold\n+            foreach (var file in files)\n+            {\n+                file.Size.Should().BeLessThan(DownloadConstants.ProgressDisplayThreshold,\n+                    \"each individual file should be below the 25MB threshold\");\n+            }\n+\n+            // Act - Calculate aggregate size (mirrors DownloadCommand.DownloadWithPattern logic)\n+            var totalSize = files.Sum(f => f.Size); // 30 MB\n+            var showProgress = totalSize >= DownloadConstants.ProgressDisplayThreshold;\n+\n+            // Assert - Aggregate size triggers progress display\n+            totalSize.Should().Be(30L * 1024 * 1024, \"aggregate size should be 30 MB\");\n+            showProgress.Should().BeTrue(\n+                \"aggregate progress bar should be shown when total size >= 25MB threshold (UX-014)\");\n+        }\n+\n+        /// <summary>\n+        /// Implements: UX-014, T078  \n+        /// When: User downloads multiple files with aggregate size exactly at threshold\n+        /// Then: Aggregate progress bar should be shown (boundary condition).\n+        /// </summary>\n+        [TestMethod]\n+        public void Download_MultipleFilesAggregateSize_ExactlyAtThreshold_ShowsAggregateProgress()\n+        {\n+            // Arrange - Files that sum to exactly the threshold\n+            var files = new[]\n+            {\n+                new FileInfoEntry(\"file1.txt\", 12L * 1024 * 1024 + 512 * 1024, DateTime.Now), // ~12.5 MB\n+                new FileInfoEntry(\"file2.txt\", 12L * 1024 * 1024 + 512 * 1024, DateTime.Now), // ~12.5 MB\n+            };\n+\n+            // Act - Calculate aggregate size \n+            var totalSize = files.Sum(f => f.Size);\n+            var showProgress = totalSize >= DownloadConstants.ProgressDisplayThreshold;\n+\n+            // Assert - Exactly at threshold should show progress (>= comparison)\n+            totalSize.Should().Be(DownloadConstants.ProgressDisplayThreshold,\n+                \"aggregate size should be exactly 25 MB\");\n+            showProgress.Should().BeTrue(\n+                \"aggregate progress should show when total equals threshold (boundary test for UX-014)\");\n+        }\n+\n+        /// <summary>\n+        /// Implements: UX-014, T078\n+        /// When: User downloads multiple small files with aggregate size below threshold\n+        /// Then: No aggregate progress bar displayed.\n+        /// </summary>\n+        [TestMethod]\n+        public void Download_MultipleFilesAggregateSize_BelowThreshold_NoAggregateProgress()\n+        {\n+            // Arrange - Multiple small files below aggregate threshold\n+            var files = new[]\n+            {\n+                new FileInfoEntry(\"file1.txt\", 5L * 1024 * 1024, DateTime.Now), // 5 MB\n+                new FileInfoEntry(\"file2.txt\", 5L * 1024 * 1024, DateTime.Now), // 5 MB\n+                new FileInfoEntry(\"file3.txt\", 5L * 1024 * 1024, DateTime.Now), // 5 MB\n+            };\n+\n+            // Act - Calculate aggregate size\n+            var totalSize = files.Sum(f => f.Size); // 15 MB\n+            var showProgress = totalSize >= DownloadConstants.ProgressDisplayThreshold;\n+\n+            // Assert - Below threshold, no progress bar\n+            totalSize.Should().Be(15L * 1024 * 1024, \"aggregate size should be 15 MB\");\n+            showProgress.Should().BeFalse(\n+                \"no aggregate progress bar when total size < 25MB threshold\");\n+        }\n+\n         /// <summary>\n         /// Implements: UX-013, T077\n         /// User downloads file < DownloadConstants.ProgressDisplayThreshold - No progress bar displayed."
  }
}
