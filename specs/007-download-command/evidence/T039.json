{
  "taskId": "T039",
  "testCase": "",
  "green": {
    "timestamp": "2026-01-12T13:14:24.7634835-06:00",
    "testCommand": "",
    "exitCode": 0,
    "output": ""
  },
  "diff": {
    "timestamp": "2026-01-12T13:14:24.7634835-06:00",
    "files": [
      "BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs"
    ],
    "patch": "diff --git a/BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs b/BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs\nindex a101209..52cb6c9 100644\n--- a/BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs\n+++ b/BitPantry.CommandLine.Tests.Remote.SignalR/ClientTests/DownloadCommandTests.cs\n@@ -413,6 +413,31 @@ namespace BitPantry.CommandLine.Tests.Remote.SignalR.ClientTests\n                 style.ForegroundColor, style.Foreground256, style.ForegroundRgb);\n         }\n \n+        /// <summary>\n+        /// Implements: UX-008, T039\n+        /// When: User runs `server download \"logs/**/*.log\" ./flat/` with nested files\n+        /// Then: All nested .log files flattened into ./flat/ (no subdirectory structure preserved)\n+        /// </summary>\n+        [TestMethod]\n+        public void ResolveLocalPath_RecursiveGlobNestedFiles_FlattensToDestination()\n+        {\n+            // Arrange - Destination ends with / indicating a directory\n+            var command = CreateCommand();\n+            command.Destination = @\"C:\\flat\\\";\n+\n+            // Act - Resolve paths for files from nested directories\n+            // These are server-relative paths that would come from a **/*.log pattern\n+            var resolved1 = command.ResolveLocalPath(\"logs/app.log\");\n+            var resolved2 = command.ResolveLocalPath(\"logs/sub1/server.log\");\n+            var resolved3 = command.ResolveLocalPath(\"logs/sub1/sub2/debug.log\");\n+\n+            // Assert - All files should be flattened into the destination directory\n+            // Only the filename is preserved, not the nested directory structure\n+            resolved1.Should().Be(@\"C:\\flat\\app.log\", \"filename should be extracted from single-level path\");\n+            resolved2.Should().Be(@\"C:\\flat\\server.log\", \"filename should be extracted from two-level nested path\");\n+            resolved3.Should().Be(@\"C:\\flat\\debug.log\", \"filename should be extracted from deeply nested path\");\n+        }\n+\n         /// <summary>\n         /// Implements: UX-011, T042\n         /// When: Pattern uses ** for recursive search"
  }
}
